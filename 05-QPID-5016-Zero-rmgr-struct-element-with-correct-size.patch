From ba91d731c6dc24c012b6abb3ceb5b14d0f7ae8f7 Mon Sep 17 00:00:00 2001
From: Andrew Stitcher <astitcher@apache.org>
Date: Thu, 25 Jul 2013 18:39:52 +0000
Subject: [PATCH] QPID-5016: Zero rmgr struct element with correct size.

git-svn-id: https://svn.apache.org/repos/asf/qpid/trunk@1507085 13f79535-47bb-0310-9956-ffa450edef68
---
 qpid/cpp/src/qpid/legacystore/jrnl/rmgr.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/qpid/cpp/src/qpid/legacystore/jrnl/rmgr.cpp b/qpid/cpp/src/qpid/legacystore/jrnl/rmgr.cpp
index 3a11817..204affd 100644
--- a/qpid/cpp/src/qpid/legacystore/jrnl/rmgr.cpp
+++ b/qpid/cpp/src/qpid/legacystore/jrnl/rmgr.cpp
@@ -72,7 +72,7 @@ rmgr::initialize(aio_callback* const cbp)
         throw jexception(jerrno::JERR__MALLOC, oss.str(), "rmgr", "initialize");
     }
     _fhdr_aio_cb_ptr = new aio_cb;
-    std::memset(_fhdr_aio_cb_ptr, 0, sizeof(aio_cb*));
+    std::memset(_fhdr_aio_cb_ptr, 0, sizeof(aio_cb));
 }
 
 void
-- 
1.8.3.1

